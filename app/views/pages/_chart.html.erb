<div class="container-sm my-4 card-aurora">
  <h2 class="text-center fw-bold fs-1 mb-4">
    Your financial projections over the next
    <% years, months = @months.count.divmod(12) %>
    <% date_parts = [] %>
    <% date_parts << pluralize(years, 'year') if years > 0 %>
    <% date_parts << pluralize(months, 'month') if months > 0 %>
    <%= date_parts.join(' and ') %>
  </h2>
  <div>
    <%= render 'pages/shortlinks' %>
  </div>
  <div class="mt-5">
    <%= line_chart [
      {
        name: "Savings per Month",
        data: @chart_data_saved,
        dataset: {
          fill: "origin",
          backgroundColor: "rgba(43, 182, 169, 0.5)",
          borderColor: "rgba(43, 182, 169, 1)",
          order: 0
        }
      },
      {
        name: "Total Invested Assets",
        data: @chart_data_other,
        dataset: {
          fill: "-1",
          backgroundColor: "rgba(122, 92, 255, 0.5)",
          borderColor: "rgba(122, 92, 255, 1)",
          order: 1
        }
      },
      {
        name: "Life Event",
        data: @chart_data_event,
        dataset: {
          showLine: false,
          fill: false,
          pointRadius: 8,
          pointHoverRadius: 10,
          pointBorderWidth: 2,
          pointBackgroundColor: "#FF5C5C",
          pointBorderColor: "#FF5C5C",
          order: 0,
          stack: "events"
        }
      }
    ],
      title: "Total Assets (Â¥)",
      legend: "bottom",
      stacked: true,
      colors: ["#2BB6A9", "#7A5CFF", "#FF5C5C"],
      height: "360px",
      library: {
        scales: {
          y: {
            ticks: { maxTicksLimit: 10 }
          }
        }
      }
    %>
  </div>
</div>
